<div class="container mx-auto px-4 py-8">
  <div *ngIf="error" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4" role="alert">
    <span class="block sm:inline">{{ error }}</span>
  </div>

  <div *ngIf="loading" class="flex justify-center items-center py-8">
    <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
  </div>

  <div *ngIf="!loading && !error && contract" class="bg-white rounded-lg shadow-lg p-6">
    <div class="flex justify-between items-start mb-6">
      <div>
        <h1 class="text-2xl font-bold text-gray-900 mb-2">{{ contract.title || 'Untitled Contract' }}</h1>
        <span class="status-badge px-3 py-1 rounded-full text-sm font-medium"
              [ngClass]="{
                'bg-green-100 text-green-800': contract.status === 'completed',
                'bg-yellow-100 text-yellow-800': contract.status === 'in_progress',
                'bg-blue-100 text-blue-800': contract.status === 'outstanding',
                'bg-red-100 text-red-800': contract.status === 'failed'
              }">
          {{ contract.status | titlecase }}
        </span>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div class="space-y-4">
        <div>
          <h3 class="text-sm font-medium text-gray-500">Price</h3>
          <p class="text-lg font-semibold">{{ contract.price | number:'1.0-0' }} ISK</p>
        </div>
        <div>
          <h3 class="text-sm font-medium text-gray-500">Reward</h3>
          <p class="text-lg font-semibold">{{ contract.reward | number:'1.0-0' }} ISK</p>
        </div>
        <div>
          <h3 class="text-sm font-medium text-gray-500">Collateral</h3>
          <p class="text-lg font-semibold">{{ contract.collateral | number:'1.0-0' }} ISK</p>
        </div>
        <div>
          <h3 class="text-sm font-medium text-gray-500">Buyout</h3>
          <p class="text-lg font-semibold">{{ contract.buyout | number:'1.0-0' }} ISK</p>
        </div>
      </div>

      <div class="space-y-4">
        <div>
          <h3 class="text-sm font-medium text-gray-500">Type</h3>
          <p class="text-lg font-semibold">{{ contract.type | titlecase }}</p>
        </div>
        <div>
          <h3 class="text-sm font-medium text-gray-500">Availability</h3>
          <p class="text-lg font-semibold">{{ contract.availability | titlecase }}</p>
        </div>
        <div>
          <h3 class="text-sm font-medium text-gray-500">Volume</h3>
          <p class="text-lg font-semibold">{{ contract.volume | number:'1.0-0' }} mÂ³</p>
        </div>
        <div>
          <h3 class="text-sm font-medium text-gray-500">For Corporation</h3>
          <p class="text-lg font-semibold">{{ contract.for_corporation ? 'Yes' : 'No' }}</p>
        </div>
      </div>
    </div>

    <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-6">
      <div class="space-y-4">
        <div>
          <h3 class="text-sm font-medium text-gray-500">Issued</h3>
          <p class="text-lg font-semibold">{{ contract.date_issued | date:'medium' }}</p>
        </div>
        <div>
          <h3 class="text-sm font-medium text-gray-500">Expires</h3>
          <p class="text-lg font-semibold">{{ contract.date_expired | date:'medium' }}</p>
        </div>
      </div>

      <div class="space-y-4">
        <div>
          <h3 class="text-sm font-medium text-gray-500">Accepted</h3>
          <p class="text-lg font-semibold">{{ contract.date_accepted ? (contract.date_accepted | date:'medium') : 'Not accepted' }}</p>
        </div>
        <div>
          <h3 class="text-sm font-medium text-gray-500">Completed</h3>
          <p class="text-lg font-semibold">{{ contract.date_completed ? (contract.date_completed | date:'medium') : 'Not completed' }}</p>
        </div>
      </div>
    </div>

    <div class="mt-8 grid grid-cols-1 md:grid-cols-2 gap-6">
      <div class="space-y-4">
        <div>
          <h3 class="text-sm font-medium text-gray-500">Issuer ID</h3>
          <p class="text-lg font-semibold">{{ contract.issuer_id }}</p>
        </div>
        <div>
          <h3 class="text-sm font-medium text-gray-500">Issuer Corporation ID</h3>
          <p class="text-lg font-semibold">{{ contract.issuer_corporation_id }}</p>
        </div>
      </div>

      <div class="space-y-4">
        <div>
          <h3 class="text-sm font-medium text-gray-500">Assignee ID</h3>
          <p class="text-lg font-semibold">{{ contract.assignee_id }}</p>
        </div>
        <div>
          <h3 class="text-sm font-medium text-gray-500">Acceptor ID</h3>
          <p class="text-lg font-semibold">{{ contract.acceptor_id }}</p>
        </div>
      </div>
    </div>

    <div class="mt-8">
      <div class="space-y-4">
        <div>
          <h3 class="text-sm font-medium text-gray-500">Start Location ID</h3>
          <p class="text-lg font-semibold">{{ contract.start_location_id }}</p>
        </div>
        <div>
          <h3 class="text-sm font-medium text-gray-500">End Location ID</h3>
          <p class="text-lg font-semibold">{{ contract.end_location_id }}</p>
        </div>
      </div>
    </div>
  </div>
</div> 